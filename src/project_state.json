{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 37,
  "summary": "Ghost Chat scaffold remains: Motoko backend with auth + blob storage and React (Vite) frontend with Internet Identity login, profiles/avatars, and global chat. Next planned UX features: replace the purple circular menu button with a top-right hamburger menu, add 1:1 direct messaging when selecting users, and enable viewing user profiles by clicking avatars anywhere in the app.",
  "architectural_notes": [
    "Backend is implemented in Motoko with modular authorization (MixinAuthorization/access-control) and a separate blob-storage module for uploaded assets.",
    "Frontend is a React (Vite) app using Tailwind + shadcn/ui component library.",
    "Authentication uses Internet Identity; frontend establishes an authenticated actor to call the backend canister.",
    "Asset handling includes client-side validation plus a StorageClient abstraction to interact with backend blob storage.",
    "Repo includes an ICP-oriented build/deploy template (Dockerfile, canister yamls, deploy script, image resize/prune scripts).",
    "Backend authorization and blob-storage components updated to v4.0.0 (per build labels).",
    "Project build-template and React frontend template synced/updated to v1.0.0 (per build labels), touching Dockerfile/scripts/canister yamls and shadcn/ui component set.",
    "Core infrastructure/build template updated to v1.0.2 (per build labels).",
    "Site logo loading uses a cache/lookup flow to avoid rendering a default/fallback asset before the admin-selected logo is available.",
    "Decision: prevent default/bundled logo flash by either (a) delaying header/nav logo render until the admin branding logo has loaded (showing a neutral/blank placeholder meanwhile) or (b) embedding the branding logo into the code/bundled assets so it is available immediately at initial render."
  ],
  "known_issues": [
    "Default/bundled logo still flashes briefly in header/nav before admin-selected logo (served via URL) loads; require zero-frame default-logo render by preloading/caching branding or rendering a neutral placeholder until branding is ready, and ensure admin-selected logo replaces all logo usages everywhere."
  ],
  "isFixRequest": false,
  "generatedImages": [
    {
      "filename": "frontend/public/assets/generated/app-logo-ghostchat.dim_512x512.png",
      "description": "Generated/added Ghost Chat application logo asset for local static use throughout the frontend.",
      "targetWidth": 512,
      "targetHeight": 512
    }
  ],
  "existing_features": [
    {
      "id": "IF-1",
      "title": "Motoko backend canister scaffold (main canister wiring)",
      "synonyms": [
        "core backend",
        "backend/main.mo"
      ],
      "description": "Backend canister entrypoint and module wiring established for app services (authorization + storage).",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-2",
      "title": "Authorization and access control module",
      "synonyms": [
        "MixinAuthorization",
        "access-control"
      ],
      "description": "Backend authorization mixin and access-control logic added to gate operations by caller identity.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-3",
      "title": "Blob storage canister/module for file uploads",
      "synonyms": [
        "blob storage",
        "Storage.mo",
        "backend/blob-storage"
      ],
      "description": "Backend blob storage implementation added for storing and retrieving uploaded assets (e.g., user avatars).",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-4",
      "title": "React frontend scaffold (Vite + Tailwind + shadcn/ui)",
      "synonyms": [
        "frontend scaffold",
        "UI kit"
      ],
      "description": "Frontend project created with shared UI components and styling infrastructure for building app pages and layouts.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-5",
      "title": "Internet Identity authentication flow",
      "synonyms": [
        "II login",
        "useInternetIdentity",
        "useActor"
      ],
      "description": "Frontend login and actor initialization implemented using Internet Identity for authentication against the backend canister.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-6",
      "title": "User profile setup and management (including avatar picker)",
      "synonyms": [
        "ProfileSetupModal",
        "ProfilePage",
        "AvatarPicker",
        "UserAvatar"
      ],
      "description": "UI and hooks to create/edit a user profile and set an avatar (including upload validation and storage client integration).",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-7",
      "title": "Global chat UI (message list + composer)",
      "synonyms": [
        "GlobalChatPage",
        "MessageList",
        "MessageComposer",
        "useMessages"
      ],
      "description": "Basic global chat page implemented with message list rendering and message composing/sending UX.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-8",
      "title": "Users listing UI",
      "synonyms": [
        "UsersPage",
        "Sidebar",
        "UserListItem",
        "useProfile"
      ],
      "description": "Users page and sidebar/list items to browse users and their profile/avatars.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-9",
      "title": "Build/deploy template for ICP (Dockerfile, scripts, canister configs)",
      "synonyms": [
        "build-template",
        "icp.yaml",
        "deploy.sh"
      ],
      "description": "Project includes a reusable build/deploy template with pruning/resizing scripts and canister configuration for backend/frontend.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-11",
      "title": "Updated site branding logo asset (Ghost Chat)",
      "synonyms": [
        "site logo",
        "app-logo-ghostchat",
        "frontend/public/assets/generated/app-logo-ghostchat.dim_512x512.png",
        "useSiteLogo"
      ],
      "description": "Replaced/updated the application logo asset to the Ghost Chat branding version, added as a local static asset under frontend/public/assets/generated and referenced throughout the frontend (no runtime remote fetch). Alt text updated to \"Ghost Chat Logo\" where applicable.",
      "reqIds": [
        "AR-5",
        "AR-7",
        "AR-8"
      ],
      "version": 1
    },
    {
      "id": "IF-12",
      "title": "Ghost Chat naming in user-facing UI text and browser metadata",
      "synonyms": [
        "app rename",
        "document title",
        "AppHeader branding"
      ],
      "description": "Updated user-facing UI strings and browser metadata (e.g., HTML document title/header brand text) to use the \"Ghost Chat\" name consistently.",
      "reqIds": [
        "AR-6"
      ],
      "version": 1
    },
    {
      "id": "IF-13",
      "title": "Admin-selected site logo only (no fallback/default logo flash)",
      "synonyms": [
        "AR-9",
        "SiteLogo",
        "useSiteLogo",
        "siteLogoCache"
      ],
      "description": "Updated site logo loading logic to eliminate the default/fallback logo rendering so only the admin-selected (stored) logo is ever displayed, preventing the brief fallback-logo flash during initial load.",
      "reqIds": [
        "AR-9"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-purple-circular-mobile-sidebar-toggle-button-with-a-standard-non-circular-hamburger-menu-icon-positioned-in-the-top-right-corner-while-keeping-the-same-sidebar-open-close-behavior",
      "title": "Replace the current purple circular mobile sidebar toggle button with a standard (non-circular) hamburger menu icon positioned in the top-right corner, while keeping the same sidebar open/close behavior.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-private-1-to-1-direct-messaging-between-two-users-selecting-a-user-from-both-the-users-list-and-from-the-global-chat-context-must-open-a-dedicated-direct-message-thread-visible-only-to-the-two-participants",
      "title": "Implement private 1-to-1 direct messaging between two users: selecting a user (from both the Users list and from the Global Chat context) must open a dedicated direct-message thread visible only to the two participants.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-enable-viewing-other-users-profiles-by-clicking-tapping-their-avatar-anywhere-it-appears-in-the-app-including-global-chat-messages-user-list-items-and-direct-message-ui",
      "title": "Enable viewing other usersâ€™ profiles by clicking/tapping their avatar anywhere it appears in the app (including global chat messages, user list items, and direct message UI).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-4",
      "summary": "Remove the footer entirely and replace it with \"DexFans 2026\"",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Move the current purple circle menu button to the top-right and change it to a standard hamburger menu (same menu behavior)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Enable private 1-to-1 direct messages when pressing a user (from both users list and chat contexts)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Make clicking any user avatar anywhere (chat messages, user list, DM list) open that user's profile",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Ghost Chat",
  "clarification_mode": "thinking",
  "clarification_rounds": 0
}